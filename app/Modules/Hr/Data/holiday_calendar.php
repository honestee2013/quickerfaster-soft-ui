<?php

return [
  'model' => 'App\Modules\Hr\Models\HolidayCalendar',
  'fieldDefinitions' => [
    'name' => [
      'display' => 'inline',
      'field_type' => 'string',
      'label' => 'Calendar Name',
      'validation' => 'required|string|max:100',
    ],
    'country_code' => [
      'display' => 'inline',
      'field_type' => 'select',
      'label' => 'Country',
      'validation' => 'required',
      'options' => [
        'US' => 'United States',
        'GB' => 'United Kingdom',
        'CA' => 'Canada',
        'AU' => 'Australia',
        'IN' => 'India',
        'NG' => 'Nigeria',
      ],
    ],
    'region' => [
      'display' => 'inline',
      'field_type' => 'string',
      'label' => 'Region/State',
      'validation' => 'nullable|string|max:100',
    ],
    'is_default' => [
      'display' => 'inline',
      'field_type' => 'boolcheckbox',
      'label' => 'Default Calendar',
      'validation' => 'boolean',
    ],
    'is_active' => [
      'display' => 'inline',
      'field_type' => 'boolcheckbox',
      'label' => 'Active',
      'validation' => 'boolean',
    ],
    'description' => [
      'display' => 'inline',
      'field_type' => 'textarea',
      'label' => 'Description',
      'validation' => 'nullable|string|max:500',
    ],
    'applicable_to' => [
      'display' => 'inline',
      'field_type' => 'select',
      'label' => 'Applicable To',
      'validation' => 'required',
      'options' => [
        'all_employees' => 'All Employees',
        'specific_departments' => 'Specific Departments',
        'specific_locations' => 'Specific Locations',
        'employee_groups' => 'Employee Groups',
      ],
    ],
    'year' => [
      'display' => 'inline',
      'field_type' => 'select',
      'label' => 'Calendar Year',
      'validation' => 'required',
      'options' => [
        '2026' => 2026,
        '2027' => 2027,
        '2028' => 2028,
        '2029' => 2029,
        '2030' => 2030,
      ],
    ],
    'holiday_count' => [
      'display' => 'inline',
      'field_type' => 'number',
      'label' => 'Number of Holidays',
      'maxSizeMB' => 1,
    ],
    'last_updated' => [
      'display' => 'inline',
      'field_type' => 'datetimepicker',
      'label' => 'Last Updated',
      'maxSizeMB' => 1,
    ],
    'holidays' => [
      'field_type' => 'checkbox',
      'relationship' => [
        'model' => 'App\Modules\Hr\Models\Holiday',
        'type' => 'hasMany',
        'display_field' => 'name',
        'hintField' => 'date',
        'dynamic_property' => 'holidays',
        'foreign_key' => 'calendar_id',
        'local_key' => 'id',
        'inlineAdd' => false,
      ],
      'options' => [
        'model' => 'App\Modules\Hr\Models\Holiday',
        'column' => 'name',
        'hintField' => 'date',
      ],
      'label' => 'Holidays',
      'multiSelect' => true,
      'display' => 'inline',
    ],
    'departments' => [
      'field_type' => 'checkbox',
      'relationship' => [
        'model' => 'App\Modules\Hr\Models\Department',
        'type' => 'belongsToMany',
        'display_field' => 'name',
        'hintField' => '',
        'dynamic_property' => 'departments',
        'foreign_key' => 'holiday_calendar_id',
        'local_key' => 'id',
        'inlineAdd' => false,
      ],
      'options' => [
        'model' => 'App\Modules\Hr\Models\Department',
        'column' => 'name',
        'hintField' => '',
      ],
      'label' => 'Departments',
      'multiSelect' => true,
      'display' => 'inline',
    ],
    'locations' => [
      'field_type' => 'checkbox',
      'relationship' => [
        'model' => 'App\Modules\Hr\Models\Location',
        'type' => 'belongsToMany',
        'display_field' => 'name',
        'hintField' => '',
        'dynamic_property' => 'locations',
        'foreign_key' => 'holiday_calendar_id',
        'local_key' => 'id',
        'inlineAdd' => false,
      ],
      'options' => [
        'model' => 'App\Modules\Hr\Models\Location',
        'column' => 'name',
        'hintField' => '',
      ],
      'label' => 'Locations',
      'multiSelect' => true,
      'display' => 'inline',
    ],
  ],
  'hiddenFields' => [
    'onTable' => [
      '0' => 'locations',
      '1' => 'departments',
      '2' => 'holidays',
      '3' => 'holiday_count',
      '4' => 'last_updated',
    ],
    'onNewForm' => [
      '0' => 'holiday_count',
      '1' => 'last_updated',
    ],
    'onEditForm' => [
      '0' => 'holiday_count',
      '1' => 'last_updated',
    ],
    'onQuery' => [],
  ],
  'simpleActions' => [
    '0' => 'show',
    '1' => 'edit',
    '2' => 'delete',
  ],
  'isTransaction' => false,
  'dispatchEvents' => false,
  'controls' => [
    'addButton' => [
      '0' => [
        'label' => 'New Calendar',
        'type' => 'quick_add',
        'icon' => 'fas fa-plus-circle',
        'primary' => true,
      ],
      '1' => [
        'label' => 'Copy Calendar',
        'type' => 'button',
        'icon' => 'fas fa-copy',
        'route' => 'holiday-calendars.copy',
        'modal' => true,
      ],
      '2' => [
        'label' => 'Import Holidays',
        'type' => 'modal',
        'icon' => 'fas fa-file-import',
        'url' => '/hr/holidays/import',
        'modalSize' => 'lg',
      ],
    ],
    'files' => [
      'export' => [
        '0' => 'xls',
        '1' => 'csv',
        '2' => 'pdf',
      ],
      'print' => true,
    ],
    'bulkActions' => [
      'export' => [
        '0' => 'xls',
        '1' => 'csv',
        '2' => 'pdf',
      ],
      'activate' => [
        'label' => 'Activate Selected',
        'icon' => 'fas fa-toggle-on',
        'updateModelField' => 'is_active',
        'fieldValue' => true,
        'actionName' => 'bulk_activate_calendars',
      ],
      'deactivate' => [
        'label' => 'Deactivate Selected',
        'icon' => 'fas fa-toggle-off',
        'updateModelField' => 'is_active',
        'fieldValue' => false,
        'actionName' => 'bulk_deactivate_calendars',
      ],
      'set_default' => [
        'label' => 'Set as Default',
        'icon' => 'fas fa-star',
        'updateModelField' => 'is_default',
        'fieldValue' => true,
        'actionName' => 'bulk_set_default_calendar',
        'confirm' => 'Set selected calendar as default? Only one calendar can be default.',
      ],
    ],
    'perPage' => [
      '0' => 10,
      '1' => 25,
      '2' => 50,
      '3' => 100,
    ],
    'search' => true,
    'showHideColumns' => true,
    'filters' => [
      '0' => [
        'field' => 'country_code',
        'type' => 'select',
        'options' => [
          '0' => 'All',
          '1' => 'US',
          '2' => 'GB',
          '3' => 'CA',
          '4' => 'AU',
          '5' => 'IN',
          '6' => 'NG',
        ],
        'label' => 'Country',
      ],
      '1' => [
        'field' => 'is_active',
        'type' => 'select',
        'options' => [
          '0' => 'All',
          '1' => 'Active',
          '2' => 'Inactive',
        ],
        'label' => 'Status',
        'default' => 'Active',
      ],
      '2' => [
        'field' => 'is_default',
        'type' => 'select',
        'options' => [
          '0' => 'All',
          '1' => 'Default',
          '2' => 'Not Default',
        ],
        'label' => 'Default Status',
      ],
      '3' => [
        'field' => 'year',
        'type' => 'select',
        'options' => [
          '0' => 'All',
          '1' => 2024,
          '2' => 2025,
          '3' => 2026,
          '4' => 2027,
          '5' => 2028,
        ],
        'label' => 'Year',
      ],
      '4' => [
        'field' => 'applicable_to',
        'type' => 'select',
        'options' => [
          '0' => 'All',
          '1' => 'All Employees',
          '2' => 'Specific Departments',
          '3' => 'Specific Locations',
          '4' => 'Employee Groups',
        ],
        'label' => 'Applicable To',
      ],
    ],
    'calendarView' => [
      'enable' => true,
      'defaultView' => 'year',
      'views' => [
        '0' => 'month',
        '1' => 'year',
      ],
      'titleField' => 'name',
      'colorField' => 'is_active',
      'statusField' => 'is_default',
    ],
  ],
  'fieldGroups' => [
    'basic_info' => [
      'title' => 'Basic Information',
      'groupType' => 'hr',
      'icon' => 'fas fa-info-circle',
      'fields' => [
        '0' => 'name',
        '1' => 'description',
        '2' => 'year',
        '3' => 'holidays',
        '4' => 'is_active',
        '5' => 'is_default',
      ],
    ],
    'location' => [
      'title' => 'Location Settings',
      'groupType' => 'hr',
      'icon' => 'fas fa-globe',
      'fields' => [
        '0' => 'country_code',
        '1' => 'region',
        '2' => 'locations',
      ],
    ],
    'applicability' => [
      'title' => 'Applicability',
      'groupType' => 'hr',
      'icon' => 'fas fa-user-check',
      'fields' => [
        '0' => 'applicable_to',
        '1' => 'departments',
      ],
    ],
    'system_info' => [
      'title' => 'System Information',
      'groupType' => 'hr',
      'icon' => 'fas fa-server',
      'fields' => [
        '0' => 'holiday_count',
        '1' => 'last_updated',
      ],
    ],
  ],
  'moreActions' => [
    '0' => [
      'title' => 'View Holidays',
      'icon' => 'fas fa-gift',
      'route' => 'holidays.index',
      'params' => [
        'calendar_id' => '{id}',
      ],
    ],
    '1' => [
      'title' => 'Add Holiday',
      'icon' => 'fas fa-plus',
      'route' => 'holidays.create',
      'params' => [
        'calendar_id' => '{id}',
      ],
    ],
    '2' => [
      'title' => 'Set as Default',
      'icon' => 'fas fa-star',
      'updateModelField' => true,
      'fieldName' => 'is_default',
      'fieldValue' => true,
      'actionName' => 'set_default_calendar',
      'confirm' => 'Set this as the default holiday calendar?',
      'condition' => [
        '0' => [
          'is_default' => false,
        ],
      ],
    ],
    '3' => [
      'title' => 'Copy to New Year',
      'icon' => 'fas fa-calendar-plus',
      'route' => 'holiday-calendars.copy-year',
      'params' => [
        'source_id' => '{id}',
      ],
      'modal' => true,
    ],
    '4' => [
      'title' => 'Export Calendar (ICS)',
      'icon' => 'fas fa-file-export',
      'route' => 'holiday-calendars.export.ics',
      'params' => [
        'calendar_id' => '{id}',
      ],
    ],
    '5' => [
      'title' => 'Preview Calendar',
      'icon' => 'fas fa-eye',
      'dispatchEvent' => true,
      'eventName' => 'openHolidayCalendarPreviewEvent',
      'params' => [
        'calendar_id' => '{id}',
      ],
    ],
    '6' => [
      'title' => 'Assign to Employees',
      'icon' => 'fas fa-user-plus',
      'route' => 'holiday-calendars.assign',
      'params' => [
        'calendar_id' => '{id}',
      ],
      'modal' => true,
    ],
  ],
  'switchViews' => [
    'default' => 'list',
    'card' => [
      'titleFields' => [
        '0' => 'name',
      ],
      'subtitleFields' => [
        '0' => 'country_code',
        '1' => 'year',
      ],
      'contentFields' => [
        '0' => 'description',
      ],
      'badgeField' => 'is_active',
      'ribbonField' => 'is_default',
      'ribbonText' => 'Default',
      'ribbonColor' => 'warning',
    ],
    'list' => [
      'titleFields' => [
        '0' => 'name',
      ],
      'subtitleFields' => [
        '0' => 'country_code',
        '1' => 'year',
        '2' => 'region',
      ],
      'contentFields' => [
        '0' => 'description',
        '1' => 'applicable_to',
      ],
      'badgeField' => 'is_active',
      'tagField' => 'is_default',
      'tagText' => 'Default',
      'tagColor' => 'warning',
    ],
    'detail' => [
      'layout' => 'tab',
      'detailType' => 'record',
      'titleFields' => [
        '0' => 'name',
      ],
      'subtitleFields' => [
        '0' => 'country_code',
        '1' => 'year',
      ],
      'tabs' => [
        '0' => [
          'title' => 'Calendar Details',
          'icon' => 'fas fa-info-circle',
          'fields' => [
            '0' => 'name',
            '1' => 'description',
            '2' => 'country_code',
            '3' => 'region',
            '4' => 'year',
            '5' => 'is_active',
            '6' => 'is_default',
          ],
        ],
        '1' => [
          'title' => 'Holidays',
          'icon' => 'fas fa-gift',
          'relation' => 'holidays',
        ],
        '2' => [
          'title' => 'Applicability',
          'icon' => 'fas fa-users',
          'fields' => [
            '0' => 'applicable_to',
            '1' => 'department_ids',
            '2' => 'location_ids',
          ],
        ],
        '3' => [
          'title' => 'System Info',
          'icon' => 'fas fa-server',
          'fields' => [
            '0' => 'holiday_count',
            '1' => 'last_updated',
          ],
        ],
      ],
    ],
  ],
  'relations' => [
    'holidays' => [
      'type' => 'hasMany',
      'model' => 'App\Modules\Hr\Models\Holiday',
      'foreignKey' => 'calendar_id',
      'orderBy' => 'date',
      'displayField' => 'name',
      'hintField' => 'date',
      'addToDetail' => true,
    ],
    'departments' => [
      'type' => 'belongsToMany',
      'model' => 'App\Modules\Hr\Models\Department',
      'foreignKey' => 'holiday_calendar_id',
      'relatedKey' => 'department_id',
      'table' => 'holiday_calendar_department',
      'displayField' => 'name',
    ],
    'locations' => [
      'type' => 'belongsToMany',
      'model' => 'App\Modules\Hr\Models\Location',
      'foreignKey' => 'holiday_calendar_id',
      'relatedKey' => 'location_id',
      'table' => 'holiday_calendar_location',
      'displayField' => 'name',
    ],
  ],
  'report' => [],
];
